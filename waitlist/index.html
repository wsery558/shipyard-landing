<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Shipyard ‚Äî Waitlist</title>
  <link rel="stylesheet" href="/assets/style.css" />
</head>
<body>
  <header class="top">
    <div class="brand">
      <a class="brand-mark" href="/en/" aria-label="Shipyard home">
        <span class="brand-logo" aria-hidden="true">
          <svg class="shipyard-mark" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M6 6h12v12H6z"/>
            <path d="M9 16V9"/>
            <path d="M12 16V10"/>
            <path d="M15 16V11"/>
          </svg>
        </span>
        <span class="brand-name">Shipyard</span>
        <span class="brand-dot" aria-hidden="true"></span>
      </a>
    </div>
    <nav class="nav">
      <a href="/en/">EN</a>
      <a href="/zh-Hant/">ÁπÅ‰∏≠</a>
      <a href="/community/">Get Community</a>
      <a href="/demo/">Demo</a>
    </nav>
  </header>

  <main class="wrap section">
    <h1>Join the waitlist</h1>
    <p class="muted">B2B note: If you already purchased, paste your receipt email in the form. Otherwise, if you have questions, we'll reply by email.</p>

    <div class="persona-layout">
      <aside class="persona-left">
        <div class="persona-panel">
          <div id="defaultPersonaView" style="display:block;">
            <div class="persona-card">
              <div class="callout" style="margin:14px 0;">
                <strong>Pick a path</strong>
                <div style="height:10px"></div>
                <a class="chip" href="/waitlist/?persona=evidence-pack">üì¶ Evidence Pack</a>
                <a class="chip" href="/waitlist/?persona=founding-access">üö© Founding Access</a>
                <div style="height:10px"></div>
                <span class="muted">Or choose a business role for routing:</span>
                <div style="height:8px"></div>
                <a class="chip" href="/waitlist/?persona=consultant">Consultant / Agency</a>
                <a class="chip" href="/waitlist/?persona=compliance">Compliance / GRC</a>
                <a class="chip" href="/waitlist/?persona=staff">Staff / Architect</a>
              </div>
            </div>
          </div>

          <div id="evidencePackView" style="display:none;">
            <div class="persona-card">
              <h3>Evidence Pack</h3>
              <p>NDJSON logs, SPEC + VERIFY reports, and signed bundles deliver the proofs auditors ask for.</p>
              <div class="cta-group" style="margin-top: var(--space-3); flex-wrap: wrap;">
                <a class="btn btn-primary" href="/waitlist/?persona=evidence-pack#waitlist-form" data-track="cta" data-track-type="evidence-pack">Join waitlist</a>
                <a class="btn btn-secondary" href="/demo/" data-track="cta" data-track-type="demo">See demo</a>
              </div>
              <details style="margin-top: var(--space-4);">
                <summary>File list</summary>
                <ul style="margin-top: var(--space-2); margin-bottom: 0;">
                  <li>NDJSON activity exports with gate/per-run hashes</li>
                  <li>SPEC.md + VERIFY_REPORT.md + SHA256SUMS.txt with signatures</li>
                  <li>Portable bundle (run.ps1 / run.sh / run.cmd) + certs</li>
                </ul>
              </details>
            </div>
          </div>

          <div id="foundingAccessView" style="display:none;">
            <div class="persona-card">
              <div class="callout" style="margin:14px 0; background-color: rgba(59, 130, 246, 0.1); border-left: 4px solid #3b82f6;">
                <strong style="color:#3b82f6;">üöÄ Founding Access ¬∑ Pro Beta</strong>
                <div style="height:8px"></div>
                <p style="margin:0; color:#9ca9b8;">Self-serve Pro beta download. No onboarding calls; GitHub Issues/Discussions support only.</p>
                <p style="margin:8px 0 0; color:#9ca9b8;"><strong>Pricing:</strong> $299 / month (up to 5 seats, cancel anytime).</p>
                <div style="height:8px;"></div>
                <div><strong>Includes:</strong></div>
                <ul style="margin:8px 0 0 16px; color:#9ca9b8;">
                  <li>Pro downloads with stable / beta / internal releases</li>
                  <li>Portable bundle (run.ps1 / run.sh / run.cmd) plus checksums</li>
                  <li>Evidence bundle: REPORT + SPEC/VERIFY/SHA256SUMS + artifact hashes</li>
                  <li>License activation & status scripts</li>
                  <li>Docs, quickstart, troubleshooting, and support policy</li>
                </ul>
                <div style="margin-top:12px;">
                  <p style="margin:0; color:#9ca9b8;">Complete the form below to join the self-serve waitlist.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </aside>
      <section class="persona-right">
        <div class="form-card" id="waitlist-form">
          <iframe id="waitlistFrame" src="https://docs.google.com/forms/d/e/1FAIpQLScAX9lV6OT7Fu0oaZKsnI7NCU55L-brcmG6_gHagOMKf5AZ4w/viewform?embedded=true"
                  title="Shipyard waitlist"></iframe>
        </div>
      </section>
    </div>
  </main>

<script>
(function() {
  var frame = document.getElementById("waitlistFrame");
  var defaultView = document.getElementById("defaultPersonaView");
  var evidenceView = document.getElementById("evidencePackView");
  var foundingView = document.getElementById("foundingAccessView");

  if (!frame) return;

  var base = "https://docs.google.com/forms/d/e/1FAIpQLScAX9lV6OT7Fu0oaZKsnI7NCU55L-brcmG6_gHagOMKf5AZ4w/viewform?embedded=true";
  var params = new URLSearchParams(window.location.search);
  var persona = (params.get("persona") || "").toLowerCase();

  var map = {
    consultant: "Consultant+/+Agency",
    compliance: "Compliance+/+GRC",
    staff: "Staff+/+Architect",
    "evidence-pack": "Evidence+Pack",
    "founding-access": "Founding+Access"
  };

  // Set iframe persona
  if (map[persona]) {
    var u = new URL(base, window.location.origin);
    u.searchParams.set("entry.1057175306", map[persona]);
    frame.src = u.toString();
  }

  // Show persona-specific views
  function hideAllViews() {
    if (defaultView) defaultView.style.display = "none";
    if (evidenceView) evidenceView.style.display = "none";
    if (foundingView) foundingView.style.display = "none";
  }

  if (persona === "evidence-pack") {
    hideAllViews();
    if (evidenceView) evidenceView.style.display = "block";
    trackEvent("waitlist_persona_select", "evidence-pack");
    trackEvent("waitlist_persona_viewed", "evidence-pack");
  } else if (persona === "founding-access") {
    hideAllViews();
    if (foundingView) foundingView.style.display = "block";
    trackEvent("waitlist_persona_select", "founding-access");
    trackEvent("waitlist_persona_viewed", "founding-access");
  } else if (persona) {
    hideAllViews();
    trackEvent("waitlist_persona_select", persona);
    trackEvent("waitlist_persona_viewed", persona);
  }

  function trackEvent(event, personaVal) {
    var payload = {
      event: event,
      path: window.location.pathname,
      track: "js",
      persona: personaVal || "",
      lang: "en",
      ua: navigator.userAgent,
      ref: document.referrer
    };
    if (window.shipyardTrack) {
      window.shipyardTrack(event, { persona: personaVal || "", lang: "en" });
    }
    fetch("/__track", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    }).catch(function() {});
  }

  // Track form submission on Google Forms submit
  var checkSubmitBtn = function() {
    var submitBtn = document.querySelector('[role="button"][aria-label*="Submit"], button[type="submit"], div[role="button"]');
    if (submitBtn && !submitBtn.dataset.waitlistTracked) {
      submitBtn.addEventListener("click", function() {
        trackEvent("waitlist_submit", persona);
      }, true);
      submitBtn.dataset.waitlistTracked = "true";
    }
  };
  
  checkSubmitBtn();
  var observer = new MutationObserver(checkSubmitBtn);
  observer.observe(document.getElementById("waitlistFrame"), { childList: true, subtree: true });
})();
</script>
  <script src="/assets/app.js"></script>
</body>
</html>
